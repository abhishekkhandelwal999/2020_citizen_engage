{"ast":null,"code":"import _classCallCheck from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{MapContainer,Marker,Popup,TileLayer}from\"react-leaflet\";import{Icon}from\"leaflet\";//import * as parkData from \"./data/skateboard-parks.json\";\nimport\"./marker.css\";var body;export var icon1=new Icon({iconUrl:\"garbage.svg\",iconSize:[25,25]});export var icon2=new Icon({iconUrl:\"road.svg\",iconSize:[25,25]});export var icon3=new Icon({iconUrl:\"sewage.svg\",iconSize:[25,25]});export var icon4=new Icon({iconUrl:\"Electric.svg\",iconSize:[25,25]});// const [activePark, setActivePark] = React.useState(null);\nvar userMarker=/*#__PURE__*/function(_Component){_inherits(userMarker,_Component);function userMarker(props){var _this;_classCallCheck(this,userMarker);_this=_possibleConstructorReturn(this,_getPrototypeOf(userMarker).call(this,props));_this.state={mapData:[]};return _this;}_createClass(userMarker,[{key:\"arraytoJson\",value:function arraytoJson(valuearrs){var arr=[];for(var i=0;i<valuearrs.length;i++){arr[i]={};arr[i].Cid=valuearrs[i][0];arr[i].Category=valuearrs[i][1];arr[i].Latitude=valuearrs[i][2];arr[i].Longitude=valuearrs[i][3];arr[i].Description=valuearrs[i][4];}console.log(arr);return arr;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;body={Id:sessionStorage.getItem(\"Identity\")};var url=\"http://localhost:9000/userIconMap\";var headers=new Headers();headers.append('Content-Type','application/json');headers.append('Accept','application/json');headers.append('Access-Control-Allow-origin',url);headers.append('Access-Control-Allow-Credentials','true');headers.append('POST','GET');fetch(url,{headers:headers,method:'POST',body:JSON.stringify(body)}).then(function(response){if(response.ok){// UserProfile.setEmail(this.state.email);\nresponse.json().then(function(res){console.log(\"Response:\"+res);_this2.setState({mapData:_this2.arraytoJson(res)});});}});console.log(\"Body\"+this.state.mapData);}// CallIcon(){\n//   if(loc.Category == \"Garbage\")\n//       return icon1;\n//   else\n//       return icon2;\n// }\n},{key:\"CallIcon\",value:function CallIcon(loc){if(loc.Category==\"Garbage\"){return React.createElement(Marker,{key:loc.Cid,position:[loc.Latitude,loc.Longitude]// onClick={() => {this.setActiveLocation(loc);}}\n,icon:icon1},React.createElement(Popup,null,\"Category : \",loc.Category,\" \",React.createElement(\"br\",null),\"Description : \",loc.Description));}else if(loc.Category==\"Road\"){return React.createElement(Marker,{key:loc.Cid,position:[loc.Latitude,loc.Longitude]// onClick={() => {this.setActiveLocation(loc);}}\n,icon:icon2},React.createElement(Popup,null,\"Category : \",loc.Category,\" \",React.createElement(\"br\",null),\"Description : \",loc.Description));}else if(loc.Category==\"Water\"){return React.createElement(Marker,{key:loc.Cid,position:[loc.Latitude,loc.Longitude]// onClick={() => {this.setActiveLocation(loc);}}\n,icon:icon3},React.createElement(Popup,null,\"Category : \",loc.Category,\" \",React.createElement(\"br\",null),\"Description : \",loc.Description));}else if(loc.Category==\"Electricity\"){return React.createElement(Marker,{key:loc.Cid,position:[loc.Latitude,loc.Longitude]// onClick={() => {this.setActiveLocation(loc);}}\n,icon:icon4},React.createElement(Popup,null,\"Category : \",loc.Category,\" \",React.createElement(\"br\",null),\"Description : \",loc.Description));}}// setActiveLocation(loc){\n//   return( <Popup>\n//     <div>\n//   <h2>{loc.Cid}</h2>\n//   <p>{loc.Category}</p>\n//   </div>\n//   </Popup>)\n// }\n},{key:\"render\",value:function render(){var _this3=this;var mapIcon;return React.createElement(MapContainer,{center:[17.437462,78.448248],zoom:13},React.createElement(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\"}),this.state.mapData.map(function(loc){return _this3.CallIcon(loc);}));}}]);return userMarker;}(Component);export{userMarker as default};","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/User/userMarker.js"],"names":["React","Component","MapContainer","Marker","Popup","TileLayer","Icon","body","icon1","iconUrl","iconSize","icon2","icon3","icon4","userMarker","props","state","mapData","valuearrs","arr","i","length","Cid","Category","Latitude","Longitude","Description","console","log","Id","sessionStorage","getItem","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","arraytoJson","loc","mapIcon","map","CallIcon"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { MapContainer, Marker, Popup, TileLayer } from \"react-leaflet\";\nimport { Icon } from \"leaflet\";\n//import * as parkData from \"./data/skateboard-parks.json\";\nimport \"./marker.css\";\n\nvar body;\n\nexport const icon1 = new Icon({\n  iconUrl: \"garbage.svg\",\n  iconSize: [25, 25]\n});\n\nexport const icon2 = new Icon({\n  iconUrl: \"road.svg\",\n  iconSize: [25, 25]\n});\n\nexport const icon3 = new Icon({\n  iconUrl: \"sewage.svg\",\n  iconSize: [25, 25]\n});\n\nexport const icon4 = new Icon({\n  iconUrl: \"Electric.svg\",\n  iconSize: [25, 25]\n});\n// const [activePark, setActivePark] = React.useState(null);\nexport default class userMarker extends Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      mapData :[]\n    }\n}\n\narraytoJson(valuearrs) {\n  var arr=[]\n    for (var i = 0; i < valuearrs.length; i++) {\n        arr[i]={};\n        arr[i].Cid = valuearrs[i][0];\n        arr[i].Category = valuearrs[i][1];\n        arr[i].Latitude = valuearrs[i][2];\n        arr[i].Longitude = valuearrs[i][3];\n        arr[i].Description = valuearrs[i][4];\n  }\n  console.log(arr);\n    return arr;\n}\n  \n\ncomponentDidMount(){\n    \n  body = {\n    Id: sessionStorage.getItem(\"Identity\"),\n  }\n      const url = \"http://localhost:9000/userIconMap\";\n        let headers = new Headers();\n    \n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n    \n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n    \n        headers.append('POST','GET');\n    \n        fetch(url, {\n          headers:headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        })\n        .then(response => {if(response.ok){\n          // UserProfile.setEmail(this.state.email);\n          response.json()\n          .then(res=> {\n            console.log(\"Response:\"+res)\n            this.setState({\n                mapData : this.arraytoJson(res)\n            })          \n          })\n        }\n        \n        })\n        console.log(\"Body\"+this.state.mapData);\n           \n  } \n// CallIcon(){\n//   if(loc.Category == \"Garbage\")\n//       return icon1;\n//   else\n//       return icon2;\n// }\n  CallIcon(loc){\n    if(loc.Category == \"Garbage\"){\n        return  (<Marker\n        key={loc.Cid}\n        position={[loc.Latitude,loc.Longitude]}   \n        // onClick={() => {this.setActiveLocation(loc);}}\n        icon={icon1}\n      >\n      <Popup>\n      Category : {loc.Category} <br/>\n      Description : {loc.Description}\n      </Popup>\n      </Marker>\n      );\n    }\n    else if(loc.Category == \"Road\"){\n      return  (<Marker\n      key={loc.Cid}\n      position={[loc.Latitude,loc.Longitude]}   \n      // onClick={() => {this.setActiveLocation(loc);}}\n      icon={icon2}\n    >\n   <Popup>\n      Category : {loc.Category} <br/>\n      Description : {loc.Description}\n    </Popup>\n      </Marker>\n    );\n  }\n  else if(loc.Category == \"Water\"){\n    return  (<Marker\n    key={loc.Cid}\n    position={[loc.Latitude,loc.Longitude]}   \n    // onClick={() => {this.setActiveLocation(loc);}}\n    icon={icon3}\n    >\n   <Popup>\n      Category : {loc.Category} <br/>\n      Description : {loc.Description}\n    </Popup>\n       </Marker>\n  \n  );\n}\n    else if(loc.Category == \"Electricity\"){\n      return (<Marker\n      key={loc.Cid}\n      position={[loc.Latitude,loc.Longitude]}   \n      // onClick={() => {this.setActiveLocation(loc);}}\n      icon={icon4}\n      >\n     <Popup>\n      Category : {loc.Category} <br/>\n      Description : {loc.Description}\n    </Popup>\n         </Marker>\n    );\n    }\n\n  }\n// setActiveLocation(loc){\n//   return( <Popup>\n//     <div>\n//   <h2>{loc.Cid}</h2>\n//   <p>{loc.Category}</p>\n//   </div>\n//   </Popup>)\n \n// }\n\nrender(){\n  var mapIcon;\n  \n  return (\n    <MapContainer center={[17.437462, 78.448248]} zoom={13}>\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n      />\n\n      {/* {this.state.mapData.map(loc => (\n        mapIcon = CallIcon(loc)\n        <Marker\n          key={loc.Cid}\n          position={[loc.Latitude,loc.Longitude]}   \n          // onClick={() => {setActivePark(loc);}}\n          icon={mapIcon}\n        />\n      ))} */}\n      {this.state.mapData.map(loc => (\n        this.CallIcon(loc)\n      ))}\n\n      {/* {activePark && (\n        <Popup\n          position={[\n            activePark.geometry.coordinates[1],\n            activePark.geometry.coordinates[0]\n          ]}\n          onClose={() => {\n            setActivePark(null);\n          }}\n        >\n          <div>\n            <h2>{activePark.properties.NAME}</h2>\n            <p>{activePark.properties.DESCRIPTIO}</p>\n          </div>\n        </Popup>\n      )} */}\n    </MapContainer>\n  );\n\n}\n  \n}\n\n"]},"metadata":{},"sourceType":"module"}