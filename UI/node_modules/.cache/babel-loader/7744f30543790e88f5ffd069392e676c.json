{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/home/adminlogin.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport './home.css';\nimport Navigation from './Nav.js';\nimport img from '../images/adminlogin.jpeg'; // import { Redirect } from \"react-router-dom\";\n// import {createBrowserHistory} from 'history';\n\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: \"100%\",\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%'\n};\nconst span1 = {\n  color: \"red\"\n};\nconst validPasswordRegex = RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,15}$/);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\n\nclass Adminlogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleNameChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      let errors = this.state.errors;\n      errors.name = validNameRegex.test(value) ? '' : 'Username is not valid';\n\n      if (errors.name === '') {\n        this.setState({\n          n: true\n        });\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      const _event$target2 = event.target,\n            name = _event$target2.name,\n            value = _event$target2.value;\n      let errors = this.state.errors;\n      errors.password = validPasswordRegex.test(value) ? '' : 'Password is not valid';\n\n      if (errors.password === '') {\n        this.setState({\n          p: true\n        });\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.state = {\n      name: '',\n      password: '',\n      errors: {\n        name: '',\n        password: ''\n      }\n    };\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  CurDateTime() {\n    var tempDate = new Date();\n    var date = tempDate.getFullYear() + '-' + (tempDate.getMonth() + 1) + '-' + tempDate.getDate() + ' ' + tempDate.getHours() + ':' + tempDate.getMinutes() + ':' + tempDate.getSeconds();\n    const currDate = \"Current Date= \" + date;\n    console.log(currDate);\n    return (// <p>{currDate}</p>\n      date\n    );\n  }\n\n  handleSubmit(event) {\n    // event.preventDefault();\n    //   if(this.state.name==\"\"){\n    //     alert('Please enter the Name')\n    //   }\n    //   else if(this.state.password==\"\"){\n    //     alert('Please enter the password')\n    //   }\n    //   else if(this.state.name==\"Admin\" && this.state.password==\"Admin@123\"){\n    //     localStorage.setItem(\"login1\",localStorage.getItem(\"login2\"));\n    //     localStorage.setItem(\"login2\",this.CurDateTime());\n    //     window.location.href=\"/adminhome\";\n    //   } \n    //   else{\n    //       alert(\"Enter proper details!!\")\n    //   }\n    event.preventDefault();\n    console.log(this.state);\n    var body = {\n      Adminname: this.state.name,\n      Password: this.state.password\n    };\n    console.log(body);\n\n    if (this.state.name === \"\") {\n      alert('Please enter the name');\n    } else if (this.state.password === \"\") {\n      alert('Please enter the password');\n    } else {\n      const url = \"http://localhost:9000/adminlogin\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.ok) {\n          // UserProfile.setEmail(this.state.email);\n          response.json().then(res => {\n            // console.log(res.id)\n            sessionStorage.setItem(\"AdminName\", res.Adminname);\n            console.log(\"AdminName:\" + res.Adminname); // sessionStorage.setItem(\"EmailId\",res.Email);\n            // console.log(res.Name)\n            // sessionStorage.setItem(\"UserName\",res.Name);\n\n            localStorage.setItem(\"login1\", localStorage.getItem(\"login2\"));\n            localStorage.setItem(\"login2\", this.CurDateTime());\n            window.location.href = \"/adminhome\";\n          });\n        } else if (!response.ok) {\n          console.log(\"Wrong email or password\");\n          alert(\"Enter the details correctly\");\n        }\n      });\n      {\n        /*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n         alert(\"Wrong email or password\"))*/\n      }\n    }\n  }\n\n  render() {\n    const errors = this.state.errors;\n    return React.createElement(\"div\", {\n      style: image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Admin Login\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Admin Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"examplename\",\n      className: \"form-control\",\n      placeholder: \"Enter name\",\n      onChange: this.handleNameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, errors.name)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"examplePassword\",\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      onChange: this.handlePasswordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, errors.password)), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Login\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(Adminlogin);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/home/adminlogin.js"],"names":["React","Component","withRouter","Navigation","img","image","backgroundImage","width","height","backgroundRepeat","backgroundSize","span1","color","validPasswordRegex","RegExp","validNameRegex","Adminlogin","constructor","props","handleNameChange","event","target","name","value","errors","state","test","setState","n","handlePasswordChange","password","p","bind","handleSubmit","CurDateTime","tempDate","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","currDate","console","log","preventDefault","body","Adminname","Password","alert","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","sessionStorage","setItem","localStorage","getItem","window","location","href","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport './home.css';\nimport Navigation from './Nav.js';\nimport img from '../images/adminlogin.jpeg';\n// import { Redirect } from \"react-router-dom\";\n// import {createBrowserHistory} from 'history';\n\nconst image = {\n    backgroundImage: 'url(' + img + ')',\n    width: \"100%\",\n    height: '100%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100% 100%',\n}\n\nconst span1 = {\n  color: \"red\"\n}\n\nconst validPasswordRegex = RegExp( /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,15}$/);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\n\nclass Adminlogin extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n          name : '',\n          password : '',\n          errors : {\n            name : '',\n            password : ''\n          }\n        }\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n        this.handleNameChange = this.handleNameChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n\n      CurDateTime() {\n        var tempDate = new Date();\n       var date = tempDate.getFullYear() + '-' + (tempDate.getMonth()+1) + '-' + tempDate.getDate() +' '+ tempDate.getHours()+':'+ tempDate.getMinutes()+':'+ tempDate.getSeconds();\n        const currDate = \"Current Date= \"+date;\n        console.log(currDate);\n        return (\n          // <p>{currDate}</p>\n          date\n        );\n      }\n\n      handleNameChange = event => {\n        const { name, value } = event.target;\n        let errors = this.state.errors;\n        errors.name = \n        validNameRegex.test(value)\n                ? ''\n                : 'Username is not valid';\n        if(errors.name ===  '')\n        {\n              this.setState({n : true});\n       }\n        this.setState({errors, [name]: value});\n      }\n\n      handlePasswordChange = event => {\n    const { name, value } = event.target;\n    let errors = this.state.errors;\n    errors.password = \n          validPasswordRegex.test(value)\n            ? ''\n            : 'Password is not valid';\n    if(errors.password ===  '')\n      {\n         this.setState({p : true});\n     }\n    this.setState({errors, [name]: value});\n  }\n    handleSubmit(event) {\n\n        // event.preventDefault();\n        //   if(this.state.name==\"\"){\n        //     alert('Please enter the Name')\n      \n        //   }\n        //   else if(this.state.password==\"\"){\n        //     alert('Please enter the password')\n        //   }\n          \n        //   else if(this.state.name==\"Admin\" && this.state.password==\"Admin@123\"){\n              \n        //     localStorage.setItem(\"login1\",localStorage.getItem(\"login2\"));\n        //     localStorage.setItem(\"login2\",this.CurDateTime());\n        //     window.location.href=\"/adminhome\";\n            \n        //   } \n        //   else{\n        //       alert(\"Enter proper details!!\")\n        //   }\n\n        event.preventDefault();\n        console.log(this.state)\n         var body = {\n          Adminname : this.state.name,\n          Password : this.state.password,\n        }\n        console.log(body);\n        if(this.state.name === \"\"){\n          alert('Please enter the name')\n    \n        }\n        else if(this.state.password === \"\"){\n          alert('Please enter the password')\n        }\n        \n        else{\n            const url = \"http://localhost:9000/adminlogin\";\n              let headers = new Headers();\n          \n              headers.append('Content-Type','application/json');\n              headers.append('Accept','application/json');\n          \n              headers.append('Access-Control-Allow-origin',url);\n              headers.append('Access-Control-Allow-Credentials','true');\n          \n              headers.append('POST','GET');\n          \n              fetch(url, {\n                headers:headers,\n                method: 'POST',\n                body: JSON.stringify(body)\n              })\n        \n              .then(response => {if(response.ok){\n                // UserProfile.setEmail(this.state.email);\n                response.json()\n                .then(res=> {\n                  // console.log(res.id)\n                  sessionStorage.setItem(\"AdminName\",res.Adminname);\n                  console.log(\"AdminName:\"+res.Adminname)\n                  // sessionStorage.setItem(\"EmailId\",res.Email);\n                  // console.log(res.Name)\n                  // sessionStorage.setItem(\"UserName\",res.Name);\n                  localStorage.setItem(\"login1\",localStorage.getItem(\"login2\"));\n                  localStorage.setItem(\"login2\",this.CurDateTime());\n                  window.location.href=\"/adminhome\";\n                })\n              }\n              else if(!response.ok){\n                console.log(\"Wrong email or password\")\n                alert(\"Enter the details correctly\");\n              }\n              })\n              {/*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n                alert(\"Wrong email or password\"))*/}\n    \n              }\n        }\n      \n    render() {\n        const {errors} = this.state;\n        return (\n        <div style={image}>\n            <Navigation/>\n            <br></br><br/><br/><br></br><br/><br></br><br/><br/><br></br><br/>\n            <br/>\n            <div className=\"auth-wrapper\">\n                <div className=\"auth-inner\">\n                    <form>\n                        <h3>Admin Login</h3>\n                        <div className=\"form-group\">\n                            <label>Admin Name</label>\n                            <input type=\"text\" name=\"name\" id=\"examplename\" className=\"form-control\" placeholder=\"Enter name\" onChange = {this.handleNameChange}/>\n                            <span style={span1} className='error'>{errors.name}</span>\n                        </div>\n                        <div className=\"form-group\">\n                             <label>Password</label>\n                            <input type=\"password\" name=\"password\" id=\"examplePassword\" className=\"form-control\" placeholder=\"Enter password\" onChange = {this.handlePasswordChange}/>\n                            <span style={span1} className='error'>{errors.password}</span>\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={this.handleSubmit}>Login</button>\n                    </form>\n                </div>\n            </div> \n            <br/><br/><br/><br/><br/><br/><br/><br/>\n            <br/><br/><br/><br/><br/><br/><br/><br/>\n            <br/><br/><br/><br/><br/><br/><br/><br/>        \n        </div>\n        );\n    }\n}\nexport default withRouter(Adminlogin);"]},"metadata":{},"sourceType":"module"}