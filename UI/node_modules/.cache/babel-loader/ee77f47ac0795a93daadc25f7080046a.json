{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/home/deptlogin.js\";\nimport React, { Component } from \"react\";\nimport { useHistory, withRouter, Link } from \"react-router-dom\";\nimport './home.css';\nimport Navigation from './Nav.js';\nimport img from '../images/adminlogin.jpeg';\nimport { createBrowserHistory } from 'history';\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: \"100%\",\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%'\n};\nconst span1 = {\n  color: \"red\"\n};\nconst validPasswordRegex = RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,15}$/);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\nvar body;\nlet token = \"\";\n\nclass deptlogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n      errors: {\n        name: '',\n        password: ''\n      }\n    }; //onsole.log(this.props.name)  \n\n    this.handlelogin = this.handlelogin.bind(this);\n    this.handlename = this.handlename.bind(this);\n    this.handlepass = this.handlepass.bind(this);\n  }\n\n  handlename(event) {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    let errors = this.state.errors;\n    errors.name = validNameRegex.test(value) ? '' : 'Username is not valid';\n\n    if (errors.name === '') {\n      this.setState({\n        n: true\n      });\n    }\n\n    this.setState({\n      errors,\n      [name]: value\n    });\n  }\n\n  handlepass(event) {\n    const _event$target2 = event.target,\n          name = _event$target2.name,\n          value = _event$target2.value;\n    let errors = this.state.errors;\n    errors.password = validPasswordRegex.test(value) ? '' : 'Password is not valid';\n\n    if (errors.password === '') {\n      this.setState({\n        p: true\n      });\n    }\n\n    this.setState({\n      errors,\n      [name]: value\n    });\n  }\n\n  handlelogin(event) {\n    event.preventDefault();\n    console.log(this.state);\n    var body = {\n      Name: this.state.name,\n      Password: this.state.password\n    };\n    console.log(body);\n    console.log(body.Name);\n    console.log(body.Password);\n\n    if (this.state.name === \"\") {\n      alert('Please enter the name');\n    } else if (this.state.password === \"\") {\n      alert('Please enter the password');\n    } else {\n      const url = \"http://localhost:9000/deptlogin\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.ok) {\n          // UserProfile.setEmail(this.state.email);\n          response.json().then(res => {\n            console.log(res.id);\n            sessionStorage.setItem(\"DeptIdentity\", res.id);\n            console.log(res.Name);\n            sessionStorage.setItem(\"DeptHeadName\", res.Name);\n            console.log(res.Category);\n            sessionStorage.setItem(\"DeptCategory\", res.Category);\n            window.location.href = \"/depthome\";\n          });\n        } else if (!response.ok) {\n          console.log(\"Wrong name or password\");\n          alert(\"Wrong name or password\");\n        }\n      });\n      {\n        /*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n         alert(\"Wrong email or password\"))*/\n      }\n    }\n  }\n\n  render() {\n    const errors = this.state.errors;\n    return React.createElement(\"div\", {\n      style: image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Department Login\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Department Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"examplename\",\n      onChange: this.handlename,\n      className: \"form-control\",\n      placeholder: \"Enter name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, errors.name)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"examplePassword\",\n      onChange: this.handlepass,\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, errors.password)), React.createElement(\"a\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.handlelogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      className: \"forgot-password text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Forgot \", React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"password?\"))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(deptlogin);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/home/deptlogin.js"],"names":["React","Component","useHistory","withRouter","Link","Navigation","img","createBrowserHistory","image","backgroundImage","width","height","backgroundRepeat","backgroundSize","span1","color","validPasswordRegex","RegExp","validNameRegex","body","token","deptlogin","constructor","props","state","name","password","errors","handlelogin","bind","handlename","handlepass","event","target","value","test","setState","n","p","preventDefault","console","log","Name","Password","alert","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","id","sessionStorage","setItem","Category","window","location","href","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { useHistory, withRouter,Link } from \"react-router-dom\";\nimport './home.css';\nimport Navigation from './Nav.js';\nimport img from '../images/adminlogin.jpeg';\nimport {createBrowserHistory} from 'history';\n\nconst image = {\n    backgroundImage: 'url(' + img + ')',\n    width: \"100%\",\n    height: '100%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100% 100%',\n}\n\nconst span1 = {\n  color: \"red\"\n}\n\nconst validPasswordRegex = RegExp( /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,15}$/);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\n\nvar body;\nlet token=\"\";\n\nclass deptlogin extends Component{\n\n    constructor(props) {\n        super(props);\n        this.state={\n          name : '',\n          password : '',\n          errors : {\n            name : '',\n            password : ''\n          }\n        }\n        //onsole.log(this.props.name)  \n        this.handlelogin = this.handlelogin.bind(this);\n        this.handlename = this.handlename.bind(this);\n        this.handlepass = this.handlepass.bind(this);\n      }\n      handlename(event){\n        const { name, value } = event.target;\n        let errors = this.state.errors;\n        errors.name = \n        validNameRegex.test(value)\n                ? ''\n                : 'Username is not valid';\n        if(errors.name ===  '')\n        {\n              this.setState({n : true});\n       }\n        this.setState({errors, [name]: value});\n      }\n      handlepass(event){\n        const { name, value } = event.target;\n    let errors = this.state.errors;\n    errors.password = \n          validPasswordRegex.test(value)\n            ? ''\n            : 'Password is not valid';\n    if(errors.password ===  '')\n      {\n         this.setState({p : true});\n     }\n    this.setState({errors, [name]: value});\n    }\n\n    handlelogin(event) {\n\n        event.preventDefault();\n          console.log(this.state)\n           var body = {\n            Name : this.state.name,\n            Password : this.state.password,\n          }\n          console.log(body);\n          console.log(body.Name);\n          console.log(body.Password);\n          if(this.state.name===\"\"){\n            alert('Please enter the name')\n      \n          }\n          else if(this.state.password===\"\"){\n            alert('Please enter the password')\n          }\n          \n          else{\n              const url = \"http://localhost:9000/deptlogin\";\n                let headers = new Headers();\n            \n                headers.append('Content-Type','application/json');\n                headers.append('Accept','application/json');\n            \n                headers.append('Access-Control-Allow-origin',url);\n                headers.append('Access-Control-Allow-Credentials','true');\n            \n                headers.append('POST','GET');\n            \n                fetch(url, {\n                  headers:headers,\n                  method: 'POST',\n                  body: JSON.stringify(body)\n                })\n          \n                .then(response => {if(response.ok){\n                  // UserProfile.setEmail(this.state.email);\n                  response.json()\n                  .then(res=> {\n                    console.log(res.id)\n                    sessionStorage.setItem(\"DeptIdentity\",res.id);\n                    \n                    console.log(res.Name)\n                    sessionStorage.setItem(\"DeptHeadName\",res.Name);\n                    console.log(res.Category)\n                    sessionStorage.setItem(\"DeptCategory\",res.Category);\n\n                    window.location.href=\"/depthome\";\n                  })\n                }\n                else if(!response.ok){\n                  console.log(\"Wrong name or password\")\n                  alert(\"Wrong name or password\")\n                }\n                })\n                {/*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n                  alert(\"Wrong email or password\"))*/}\n      \n                }\n            \n          } \n\n    render() {\n      const {errors} = this.state;\n        return (\n        <div style={image}>\n            <Navigation/>\n            <br></br><br/><br/>\n            <div className=\"auth-wrapper\">\n                <div className=\"auth-inner\">\n                    <form>\n                        <h3>Department Login</h3>\n                        <div className=\"form-group\">\n                            <label>Department Name</label>\n                            <input type=\"text\" name=\"name\" id=\"examplename\" onChange={this.handlename} className=\"form-control\" placeholder=\"Enter name\"/>\n                            <span style={span1} className='error'>{errors.name}</span>\n                        </div>\n                        <div className=\"form-group\">\n                             <label>Password</label>\n                            <input type=\"password\" name=\"password\" id=\"examplePassword\"   onChange={this.handlepass} className=\"form-control\" placeholder=\"Enter password\" />\n                            <span style={span1} className='error'>{errors.password}</span>\n                        </div>\n                        <a type=\"submit\" className=\"btn btn-primary btn-block\" onClick={this.handlelogin} >Login</a>\n                        <p className=\"forgot-password text-right\">\n                            Forgot <a href=\"#\">password?</a>\n                         </p>\n                    </form>\n                </div>\n            </div> \n            <br/> <br/> <br/> <br/> <br/> <br/>          \n        </div>\n        );\n    }\n\n    \n}\nexport default withRouter(deptlogin);"]},"metadata":{},"sourceType":"module"}