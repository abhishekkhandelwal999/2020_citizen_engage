{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/User/EditProfile.js\";\nimport React, { Component } from \"react\"; //import logo from '../images/userhome.jpg';\n\nimport '../images/bgimage.css';\nimport './UserHome.css';\nimport Nav from './nav.js';\nimport img from '../images/userlogin.jpeg';\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: '100%',\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%'\n};\nconst span1 = {\n  color: \"red\"\n};\nvar body;\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\nconst validMobileRegex = RegExp(/^[6-9]{1}[0-9]{9}$/);\nexport default class EditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleNameChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      let errors = this.state.errors;\n      errors.name = validNameRegex.test(value) ? '' : 'Name should contain only letters';\n\n      if (errors.name === '') {\n        this.setState({\n          n: true\n        });\n      } else {\n        this.setState({\n          n: false\n        });\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleEmailChange = event => {\n      const _event$target2 = event.target,\n            name = _event$target2.name,\n            value = _event$target2.value;\n      let errors = this.state.errors;\n      errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n\n      if (errors.email === '') {\n        this.setState({\n          e: true\n        });\n      } else {\n        this.setState({\n          e: false\n        });\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleMobileChange = event => {\n      const _event$target3 = event.target,\n            name = _event$target3.name,\n            value = _event$target3.value;\n      let errors = this.state.errors;\n      errors.mobile = validMobileRegex.test(value) ? '' : 'Enter a valid phone number!';\n\n      if (errors.mobile === '') {\n        this.setState({\n          m: true\n        });\n      } else {\n        this.setState({\n          m: false\n        });\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleMobileChange = this.handleMobileChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.state = {\n      n: true,\n      e: true,\n      m: true,\n      name: \"\",\n      email: \"\",\n      mobile: \"\",\n      confirmPassword: \"\",\n      errors: {\n        name: '',\n        email: '',\n        mobile: ''\n      },\n      userdetails: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: sessionStorage.getItem(\"TempUserName\"),\n      email: sessionStorage.getItem(\"TempUserEmail\"),\n      mobile: sessionStorage.getItem(\"TempUserMobile\")\n    }); // console.log(this.state.Id);\n    // var body = {\n    //   Id: sessionStorage.getItem(\"Identity\"),\n    // }\n    // console.log(\"Body\"+body.Id);\n    //     const url = \"http://localhost:9000/details\";\n    //       let headers = new Headers();\n    //       headers.append('Content-Type','application/json');\n    //       headers.append('Accept','application/json');\n    //       headers.append('Access-Control-Allow-origin',url);\n    //       headers.append('Access-Control-Allow-Credentials','true');\n    //       headers.append('POST','GET');\n    //       fetch(url, {\n    //         headers:headers,\n    //         method: 'POST',\n    //         body: JSON.stringify(body)\n    //       })\n    //       .then(response => {if(response.ok){\n    //         response.json()\n    //         .then(res=> {\n    //           console.log(\"Response:\"+res)\n    //           this.setState({\n    //               userdetails : res,\n    //               name : res.Name,\n    //               email : res.Email,\n    //               mobile : res.Mobile\n    //           })          \n    //         })\n    //       }\n    //       })\n    //       console.log(body);\n  }\n\n  // handleNameChange = event => {\n  //   this.setState({\n  //     name : event.target.value\n  //   });\n  //   console.log(this.state.name);\n  // }\n  // handleEmailChange = event => {\n  //   this.setState({\n  //     email : event.target.value\n  //   });\n  // }\n  // handleMobileChange = event => {\n  //   this.setState({\n  //     mobile : event.target.value\n  //   });\n  // }\n  handleUpdate(event) {\n    event.preventDefault();\n    body = {\n      Id: sessionStorage.getItem(\"Identity\"),\n      Name: this.state.name,\n      Email: this.state.email,\n      Mobile: this.state.mobile\n    };\n    console.log(body);\n\n    if (this.state.name === \"\") {\n      alert('Please select the name');\n    } else if (this.state.email === \"\") {\n      alert('Please select the email');\n    } else if (this.state.mobile === \"\") {\n      alert('Please select the mobile');\n    } else {\n      if (this.state.n === true && this.state.e === true && this.state.m === true) {\n        console.log(\"Hello\");\n        const url = \"http://localhost:9000/editprofile\";\n        let headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        headers.append('Accept', 'application/json');\n        headers.append('Access-Control-Allow-origin', url);\n        headers.append('Access-Control-Allow-Credentials', 'true');\n        headers.append('GET', 'POST');\n        fetch(url, {\n          headers: headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        }).then(response => response.json()).then(contents => {\n          console.log(contents); // .then(response =>{window.location.href=\"/Login\"});             \n        }).catch(() => console.log(\"can't access\" + url + \"response. \"));\n        alert(\"Details updated successfully!\"); //   this.props.history.push(\"/profile\");\n\n        window.location.href = \"/profile\";\n      } else {\n        alert(\"enter details correctly\");\n      }\n    }\n  }\n\n  render() {\n    //   const {errors} = this.state;\n    return React.createElement(\"div\", {\n      style: image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Editing Profile\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      className: \"form-control\",\n      onChange: this.handleNameChange,\n      value: this.state.name,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, this.state.errors.name)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      className: \"form-control\",\n      onChange: this.handleEmailChange,\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, this.state.errors.email)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Mobile\"), React.createElement(\"input\", {\n      type: \"phone\",\n      name: \"mobile\",\n      className: \"form-control\",\n      onChange: this.handleMobileChange,\n      value: this.state.mobile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: span1,\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, this.state.errors.mobile)), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Update\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/User/EditProfile.js"],"names":["React","Component","Nav","img","image","backgroundImage","width","height","backgroundRepeat","backgroundSize","span1","color","body","validEmailRegex","RegExp","validNameRegex","validMobileRegex","EditProfile","constructor","props","handleNameChange","event","target","name","value","errors","state","test","setState","n","handleEmailChange","email","e","handleMobileChange","mobile","m","bind","handleUpdate","confirmPassword","userdetails","componentDidMount","sessionStorage","getItem","preventDefault","Id","Name","Email","Mobile","console","log","alert","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","catch","window","location","href","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import logo from '../images/userhome.jpg';\nimport '../images/bgimage.css';\nimport './UserHome.css'\nimport Nav from './nav.js';\nimport img from '../images/userlogin.jpeg';\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: '100%',\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%',\n}\nconst span1 = {\n  color: \"red\"\n}\nvar body;\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nconst validNameRegex = RegExp(/^[a-z A-Z,.'-]+$/i);\nconst validMobileRegex = RegExp(/^[6-9]{1}[0-9]{9}$/);\n\nexport default class EditProfile extends Component{\n  constructor(props) {\n    super(props);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleMobileChange = this.handleMobileChange.bind(this);  \n    this.handleUpdate = this.handleUpdate.bind(this);\n        this.state = {\n          n:true,\n          e:true,\n          m:true,\n          name: \"\",\n          email:\"\",\n          mobile:\"\",\n          confirmPassword: \"\",\n          errors: {\n            name: '',\n            email: '',\n            mobile : '',\n          },\n          userdetails :[]\n        };\n        \n    \n    \n  }\n  componentDidMount(){\n    this.setState({  \n        name : sessionStorage.getItem(\"TempUserName\"),\n        email : sessionStorage.getItem(\"TempUserEmail\"),\n        mobile : sessionStorage.getItem(\"TempUserMobile\")\n    \n    })          \n\n    // console.log(this.state.Id);\n    // var body = {\n    //   Id: sessionStorage.getItem(\"Identity\"),\n    \n    // }\n    // console.log(\"Body\"+body.Id);\n\n    //     const url = \"http://localhost:9000/details\";\n    //       let headers = new Headers();\n      \n    //       headers.append('Content-Type','application/json');\n    //       headers.append('Accept','application/json');\n      \n    //       headers.append('Access-Control-Allow-origin',url);\n    //       headers.append('Access-Control-Allow-Credentials','true');\n      \n    //       headers.append('POST','GET');\n      \n    //       fetch(url, {\n    //         headers:headers,\n    //         method: 'POST',\n    //         body: JSON.stringify(body)\n    //       })\n    //       .then(response => {if(response.ok){\n    //         response.json()\n    //         .then(res=> {\n    //           console.log(\"Response:\"+res)\n    //           this.setState({\n    //               userdetails : res,\n    //               name : res.Name,\n    //               email : res.Email,\n    //               mobile : res.Mobile\n\n    //           })          \n    //         })\n    //       }\n          \n    //       })\n    //       console.log(body);\n             \n    } \n    handleNameChange = event => {\n        const { name, value } = event.target;\n        let errors = this.state.errors;\n        errors.name = \n        validNameRegex.test(value)\n                ? ''\n                : 'Name should contain only letters';\n        if(errors.name ===  '')\n        {\n              this.setState({n : true});\n       }\n       else{\n        this.setState({n : false});\n       }\n        this.setState({errors, [name]: value});\n      }\n    \n  \n    handleEmailChange = event => {\n      const { name, value } = event.target;\n      let errors = this.state.errors;\n      errors.email = \n            validEmailRegex.test(value)\n              ? ''\n              : 'Email is not valid!';\n      if(errors.email ===  '')\n        {\n           this.setState({e : true});\n       }\n       else{\n        this.setState({e : false});\n       }\n      this.setState({errors, [name]: value});\n    }\n  \n    handleMobileChange = event => {\n      const { name, value } = event.target;\n      let errors = this.state.errors;\n      errors.mobile = \n      (validMobileRegex.test(value))\n        ? ''\n        : 'Enter a valid phone number!';\n     if(errors.mobile ===  '')\n      {\n          this.setState({m : true});\n      }\n      else{\n        this.setState({m : false});\n       }\n      this.setState({errors, [name]: value});\n    }\n    // handleNameChange = event => {\n    //   this.setState({\n    //     name : event.target.value\n    //   });\n    //   console.log(this.state.name);\n    // }\n    // handleEmailChange = event => {\n    //   this.setState({\n    //     email : event.target.value\n    //   });\n     \n    // }\n    // handleMobileChange = event => {\n    //   this.setState({\n    //     mobile : event.target.value\n    //   });\n     \n    // }\n    handleUpdate(event) {\n      event.preventDefault();\n      body = {\n        Id : sessionStorage.getItem(\"Identity\"),\n        Name: this.state.name,\n        Email: this.state.email,\n        Mobile: this.state.mobile,\n        \n        \n      }\n      console.log(body);\n      if (this.state.name ===\"\"){\n        alert('Please select the name')\n      }\n      else if(this.state.email ===\"\"){\n        alert('Please select the email')\n      }\n       else if (this.state.mobile ===\"\"){\n        alert('Please select the mobile')\n      }\n    \n      else{\n        if(this.state.n === true && this.state.e === true && this.state.m === true){\n          console.log(\"Hello\");\n         const url = \"http://localhost:9000/editprofile\";\n         let headers = new Headers();\n   \n         headers.append('Content-Type','application/json');\n         headers.append('Accept','application/json');\n   \n         headers.append('Access-Control-Allow-origin',url);\n         headers.append('Access-Control-Allow-Credentials','true');\n   \n         headers.append('GET','POST');\n   \n         fetch(url, {\n          headers:headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n       })\n        .then(response => response.json())\n        .then(contents => {console.log(contents);\n        // .then(response =>{window.location.href=\"/Login\"});             \n     })\n   .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n   alert(\"Details updated successfully!\");\n//   this.props.history.push(\"/profile\");\n  window.location.href=\"/profile\";\n    }\n    else{\n      alert(\"enter details correctly\")\n    }\n  \n    \n    }\n  }\n\n    render() {\n    //   const {errors} = this.state;\n        return (\n          <div style={image}>\n<div className=\"wrapper\">\n          <Nav/>\n                      \n                      <div class=\"main_content\">\n                    <center>\n                    <br/><br/><br/>\n                      <br/><br/><br/><br/>\n                      <br/><br/><br/>\n                    \n                      <div className=\"auth-wrapper\">\n                      <div className=\"auth-inner\">\n                         \n                      <form>\n                          <h3>Editing Profile</h3>\n                          <div className=\"form-group\">\n                              <label>Name:</label>\n                              <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" onChange={this.handleNameChange} value={this.state.name} required\n                             />\n                              <span style={span1} >{this.state.errors.name}</span> \n                          </div>\n                          <div className=\"form-group\">\n                              <label>Email address</label>\n                              <input type=\"email\" name=\"email\"  className=\"form-control\" onChange={this.handleEmailChange} value={this.state.email}\n                             />\n                               <span style={span1} className='error'>{this.state.errors.email}</span> \n                          </div>\n          \n                          <div className=\"form-group\">\n                              <label>Mobile</label>\n                              <input type=\"phone\" name=\"mobile\" className=\"form-control\" onChange={this.handleMobileChange} value={this.state.mobile}\n                             />\n                               <span style={span1} className='error'>{this.state.errors.mobile}</span> \n                          </div>\n          \n                          \n          \n                          <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={this.handleUpdate}>Update</button>          \n                      </form>\n                      </div>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      </div>\n                      </center>\n                      </div>\n                     </div>\n                      </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}