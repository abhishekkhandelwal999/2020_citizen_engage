{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/Department/viewComplaints.js\";\nimport React, { Component } from \"react\";\nimport { useHistory, withRouter, Link } from \"react-router-dom\";\nimport './view.css';\nimport './depthome.css';\nimport Nav from './nav.js';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport img from '../images/userlogin.jpeg';\nimport UserProfile from '../User/UserProfile';\nimport { createBrowserHistory } from 'history';\nimport { Container, Row, Col } from 'react-bootstrap';\nvar body;\nlet token = \"\";\nvar result;\n\nvar ReactBsTable = require('react-bootstrap-table');\n\nconst Status = {\n  'Pending': 'Pending',\n  'Closed': 'Closed'\n};\n\nfunction enumFormatter(cell, row, enumObject) {\n  //window.location.reload(false);\n  return enumObject[cell];\n}\n\nclass viewComplaints extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complaints: []\n    };\n  }\n\n  indexN(cell, row, enumObject, index) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, index + 1);\n  }\n\n  componentDidMount() {\n    var body = {\n      Category: sessionStorage.getItem(\"DeptCategory\")\n    };\n    console.log(body);\n    const url = \"http://localhost:9000/deptComplaints\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      if (response.ok) {\n        // UserProfile.setEmail(this.state.email);\n        response.json().then(res => {\n          console.log(res);\n          this.setState({\n            complaints: res\n          });\n        });\n      } else if (!response.ok) {\n        console.log(\"Wrong email or password\");\n        alert(\"No data\");\n      }\n    });\n  }\n\n  expandComponent(row) {\n    // var route= \"/viewandclose/\"+row.Cid;\n    var createdimg = \"/images/\" + row.CreatedImage;\n    var closedtime;\n    var closedimg;\n    var image;\n\n    if (row.Status == \"Pending\") {\n      closedimg = row.ClosedImage;\n      closedtime = \"Not Yet Closed\";\n      image = React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        onClick: event => {\n          sessionStorage.setItem(\"Cid\", row.Cid);\n          sessionStorage.setItem(\"UserMail\", row.Email);\n          sessionStorage.setItem(\"MailLocation\", row.Location);\n          sessionStorage.setItem(\"MailCategory\", row.Category);\n          sessionStorage.setItem(\"MailName\", row.Name);\n          window.location.href = \"/viewandclosedept\";\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Take Action\")));\n    } else {\n      var img = \"/images/\" + row.ClosedImage;\n      closedimg = React.createElement(\"img\", {\n        src: img,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });\n      closedtime = row.ClosedAt;\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Container, {\n      border: \"5px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Cid : \", row.Cid), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Created Time : \", row.CreatedAt), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Closed Time : \", closedtime)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Problem Image : \", React.createElement(\"img\", {\n      src: createdimg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Solved Image :\", closedimg)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Description:\", row.CreatedDescription), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Description:\", row.ClosedDescription)), image));\n  }\n\n  isExpandableRow(row) {\n    return true;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Complaints\"))), React.createElement(BootstrapTable, {\n      data: this.state.complaints,\n      expandComponent: this.expandComponent,\n      expandableRow: this.isExpandableRow,\n      striped: true,\n      hover: true,\n      condensed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(TableHeaderColumn, {\n      width: \"70\",\n      dataField: \"any\",\n      dataFormat: this.indexN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"S.No\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Cid\",\n      isKey: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"CID\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"EMAIL\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"LOCATION\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Status\",\n      filterFormatted: true,\n      dataFormat: enumFormatter,\n      formatExtraData: Status,\n      filter: {\n        type: 'SelectFilter',\n        options: Status\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"STATUS\")))));\n  }\n\n}\n\nexport default withRouter(viewComplaints);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/Department/viewComplaints.js"],"names":["React","Component","useHistory","withRouter","Link","Nav","BootstrapTable","TableHeaderColumn","img","UserProfile","createBrowserHistory","Container","Row","Col","body","token","result","ReactBsTable","require","Status","enumFormatter","cell","row","enumObject","viewComplaints","constructor","props","state","complaints","indexN","index","componentDidMount","Category","sessionStorage","getItem","console","log","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","alert","expandComponent","createdimg","CreatedImage","closedtime","closedimg","image","ClosedImage","event","setItem","Cid","Email","Location","Name","window","location","href","ClosedAt","CreatedAt","CreatedDescription","ClosedDescription","isExpandableRow","render","type","options"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { useHistory, withRouter,Link } from \"react-router-dom\";\nimport './view.css';\nimport './depthome.css'\nimport Nav  from './nav.js';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport img from '../images/userlogin.jpeg';\nimport UserProfile from '../User/UserProfile';\nimport {createBrowserHistory} from 'history';\nimport {Container,Row,Col} from 'react-bootstrap';\n\nvar body;\nlet token=\"\";\nvar result;\nvar ReactBsTable = require('react-bootstrap-table');\n\n\nconst Status = {\n  'Pending': 'Pending',\n  'Closed': 'Closed',\n  };\n  function enumFormatter(cell, row, enumObject) {\n    //window.location.reload(false);\n  return enumObject[cell];\n  }\n\nclass viewComplaints extends Component{\n  constructor(props) {\n    super(props);\n    this.state={\n      complaints :[]\n    }\n    \n  }\n  indexN(cell, row, enumObject, index) {\n    return (<div>{index+1}</div>) \n}\n\n  componentDidMount() {\n    var body = {\n      Category: sessionStorage.getItem(\"DeptCategory\")\n    }\n  \n  \n    console.log(body);\n    \n   \n        const url = \"http://localhost:9000/deptComplaints\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n          })\n          .then(response => {if(response.ok){\n            // UserProfile.setEmail(this.state.email);\n            response.json()\n            .then(res=> {\n              console.log(res)\n              this.setState({\n                  complaints : res\n              })          \n            })\n          }\n          else if(!response.ok){\n            console.log(\"Wrong email or password\")\n            alert(\"No data\")\n          }\n          })\n\n          \n      \n    } \n\n    expandComponent(row) {\n      // var route= \"/viewandclose/\"+row.Cid;\n      var createdimg=\"/images/\"+row.CreatedImage;\n      var closedtime;\n      var closedimg;\n      var image;\n      if(row.Status==\"Pending\"){\n        closedimg = row.ClosedImage;\n        closedtime = \"Not Yet Closed\";\n       image = <Row>\n        <Col><button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={(event) => \n          {sessionStorage.setItem(\"Cid\",row.Cid)\n          sessionStorage.setItem(\"UserMail\",row.Email)\n          sessionStorage.setItem(\"MailLocation\",row.Location)\n          sessionStorage.setItem(\"MailCategory\",row.Category)\n          sessionStorage.setItem(\"MailName\",row.Name)\n          window.location.href= \"/viewandclosedept\"}}>Take Action</button></Col>\n</Row>\n      }\n      else{\n        var img = \"/images/\"+row.ClosedImage;\n        closedimg=<img src={img}/>;\n        closedtime = row.ClosedAt;\n      }\n      return (\n        <div>\n          <Container border=\"5px\">\n            <Row>\n              <Col>Cid : {row.Cid}</Col>\n              <Col>Created Time : {row.CreatedAt}</Col>\n              <Col>Closed Time : {closedtime}</Col>\n            </Row>\n           <Row>\n              <Col>Problem Image : <img src={createdimg}/></Col>\n      <Col>Solved Image :{closedimg}</Col>\n          </Row>\n          <Row>\n      <Col>Description:{row.CreatedDescription}</Col>\n      <Col>Description:{row.ClosedDescription}</Col>\n      </Row>{image}\n</Container>\n        </div>\n      );\n    }\n\n    isExpandableRow(row) {    \n        return true;      \n    }\n    \n\n    render() {\n       \n        return (\n        <div>\n            <div className=\"wrapper\">\n            <Nav/>\n            <br></br><br/>\n            <br/>\n                    <div className=\"main_content\">\n                        <div className=\"header\"><h2><u>Complaints</u></h2></div>\n          <BootstrapTable data={ this.state.complaints } expandComponent={ this.expandComponent } expandableRow={ this.isExpandableRow } striped hover condensed >\n          <TableHeaderColumn width='70' dataField=\"any\" dataFormat={this.indexN}>S.No</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Cid' isKey hidden>CID</TableHeaderColumn>\n          <TableHeaderColumn  width='150' dataField='Email'>EMAIL</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Location'>LOCATION</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Status' filterFormatted dataFormat={ enumFormatter }  formatExtraData={ Status } filter={ { type: 'SelectFilter', options: Status } }>STATUS</TableHeaderColumn>\n           \n      </BootstrapTable>\n            \n          </div></div></div>\n        );\n    }\n}\nexport default withRouter(viewComplaints);"]},"metadata":{},"sourceType":"module"}