{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/admin/topRankedComplaint.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport './adminhome.css';\nimport Navigation from './nav.js';\nimport './view.css';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { Button } from 'react-bootstrap';\nvar body;\n\nclass topRankedComplaint extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topranked: []\n    };\n  }\n\n  arraytoJson(valuearrs) {\n    var arr = [];\n\n    for (var i = 0; i < valuearrs.length; i++) {\n      arr[i] = {};\n      arr[i].Location = valuearrs[i][0];\n      arr[i].Category = valuearrs[i][1];\n      arr[i].Count = valuearrs[i][2];\n    }\n\n    console.log(arr);\n    return arr;\n  }\n\n  componentDidMount() {\n    console.log(body);\n    const url = \"http://localhost:9000/toprankedcomplaint\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'GET',\n      body: JSON.stringify(body)\n    }).then(response => {\n      if (response.ok) {\n        // UserProfile.setEmail(this.state.email);\n        response.json().then(res => {\n          console.log(res);\n          console.log(response); // let Data={};\n          // for(let i=0;i<res.length;i++)\n          // {\n          //   let obj1 = res[i][0];\n          //   let obj2 = res[i][1];\n          //   Data[i] = { 'Email':obj1, 'Count':obj2};\n          // }\n\n          this.setState({\n            topranked: this.arraytoJson(res)\n          });\n        });\n        console.log(this.state.topranked);\n      } else if (!response.ok) {\n        alert(\"No data\");\n      }\n    });\n    console.log(this.state.topranked);\n  }\n\n  indexN(cell, row, enumObject, index) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, index + 1);\n  }\n\n  CellFormatter(cell, row) {\n    return React.createElement(Button, {\n      variant: \"link\",\n      onClick: () => {\n        sessionStorage.setItem(\"Location\", row.Location);\n        sessionStorage.setItem(\"Category\", row.Category);\n        window.location.href = \"/topRankedList\";\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, cell);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Top Ranked Complaints\"))), React.createElement(BootstrapTable, {\n      data: this.state.topranked,\n      striped: true,\n      hover: true,\n      condensed: true,\n      height: \"120\",\n      scrollTop: 'Bottom',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(TableHeaderColumn, {\n      width: \"250\",\n      dataField: \"any\",\n      dataFormat: this.indexN,\n      isKey: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Rank\"), React.createElement(TableHeaderColumn, {\n      width: \"250\",\n      dataField: \"Location\",\n      dataFormat: this.CellFormatter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Location\"), React.createElement(TableHeaderColumn, {\n      width: \"250\",\n      dataField: \"Category\",\n      dataFormat: this.CellFormatter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Category\"), React.createElement(TableHeaderColumn, {\n      width: \"250\",\n      dataField: \"Count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"No. Of Complaints\")))));\n  }\n\n}\n\nexport default withRouter(topRankedComplaint);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/admin/topRankedComplaint.js"],"names":["React","Component","withRouter","Navigation","BootstrapTable","TableHeaderColumn","Button","body","topRankedComplaint","constructor","props","state","topranked","arraytoJson","valuearrs","arr","i","length","Location","Category","Count","console","log","componentDidMount","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","alert","indexN","cell","row","enumObject","index","CellFormatter","sessionStorage","setItem","window","location","href","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {  withRouter } from \"react-router-dom\";\nimport './adminhome.css';\nimport Navigation  from './nav.js';\nimport './view.css'\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport {Button} from 'react-bootstrap'; \n\nvar body;\n\nclass topRankedComplaint extends Component{\n  constructor(props) {\n    super(props);\n    this.state={\n      topranked :[]\n    }\n    \n  }\n\n  arraytoJson(valuearrs) {\n    var arr=[]\n      for (var i = 0; i < valuearrs.length; i++) {\n          arr[i]={};\n          arr[i].Location = valuearrs[i][0];\n          arr[i].Category = valuearrs[i][1];\n          arr[i].Count = valuearrs[i][2];\n    }\n    console.log(arr);\n      return arr;\n}\n\n  componentDidMount()\n  {\n  \n    console.log(body);\n    \n   \n        const url = \"http://localhost:9000/toprankedcomplaint\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'GET',\n            body: JSON.stringify(body)\n          })\n          .then(response => {if(response.ok){\n            // UserProfile.setEmail(this.state.email);\n            response.json()\n            .then(res=> {\n              console.log(res);\n              console.log(response);\n\n              // let Data={};\n              // for(let i=0;i<res.length;i++)\n              // {\n              //   let obj1 = res[i][0];\n              //   let obj2 = res[i][1];\n              //   Data[i] = { 'Email':obj1, 'Count':obj2};\n              // }\n              this.setState({\n                  topranked : this.arraytoJson(res)\n              })          \n            })\n           console.log(this.state.topranked);\n            \n          }\n          else if(!response.ok){\n            \n            alert(\"No data\")\n          }\n          })    \n          console.log(this.state.topranked);  \n    } \n\n   \n    indexN(cell, row, enumObject, index) {\n      return (<div>{index+1}</div>) \n    }\n\n    CellFormatter(cell, row) {\n        return( <Button variant=\"link\" onClick={() => \n            {sessionStorage.setItem(\"Location\",row.Location)\n            sessionStorage.setItem(\"Category\",row.Category)\n            window.location.href= \"/topRankedList\"\n            }}>{cell}</Button>)\n          }\n\n    \n\n    render() {\n  \n        return (\n        <div>\n       <div className=\"wrapper\">\n            <Navigation/>\n            <br></br><br/>\n            <br/>\n           <div className=\"main_content\">\n                        <div className=\"header\"><h2><u>Top Ranked Complaints</u></h2></div>\n          <BootstrapTable data={ this.state.topranked } striped hover condensed height='120' scrollTop={ 'Bottom' }>\n          <TableHeaderColumn width='250' dataField=\"any\" dataFormat={this.indexN} isKey>Rank</TableHeaderColumn>\n          <TableHeaderColumn  width='250' dataField='Location' dataFormat={this.CellFormatter} >Location</TableHeaderColumn>\n          <TableHeaderColumn  width='250' dataField='Category' dataFormat={this.CellFormatter}>Category</TableHeaderColumn>\n          <TableHeaderColumn  width='250' dataField='Count'>No. Of Complaints</TableHeaderColumn>\n         \n          \n      </BootstrapTable>\n            \n          </div></div>\n          </div>\n        );\n    }\n}\nexport default withRouter(topRankedComplaint);"]},"metadata":{},"sourceType":"module"}