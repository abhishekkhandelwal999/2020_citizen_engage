{"ast":null,"code":"import _classCallCheck from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import'./adminhome.css';import Navigation from'./nav.js';import'./view.css';import{BootstrapTable,TableHeaderColumn}from'react-bootstrap-table';import{Button}from'react-bootstrap';var body;var activeRegions=/*#__PURE__*/function(_Component){_inherits(activeRegions,_Component);function activeRegions(props){var _this;_classCallCheck(this,activeRegions);_this=_possibleConstructorReturn(this,_getPrototypeOf(activeRegions).call(this,props));_this.state={activeregions:[]};return _this;}_createClass(activeRegions,[{key:\"arraytoJson\",value:function arraytoJson(valuearrs){var arr=[];for(var i=0;i<valuearrs.length;i++){arr[i]={};arr[i].Location=valuearrs[i][0];//arr[i].Category = valuearrs[i][1];\narr[i].Count=valuearrs[i][1];}console.log(arr);return arr;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(body);var url=\"http://localhost:9000/activeRegions\";var headers=new Headers();headers.append('Content-Type','application/json');headers.append('Accept','application/json');headers.append('Access-Control-Allow-origin',url);headers.append('Access-Control-Allow-Credentials','true');headers.append('POST','GET');fetch(url,{headers:headers,method:'GET',body:JSON.stringify(body)}).then(function(response){if(response.ok){// UserProfile.setEmail(this.state.email);\nresponse.json().then(function(res){console.log(res);console.log(response);// let Data={};\n// for(let i=0;i<res.length;i++)\n// {\n//   let obj1 = res[i][0];\n//   let obj2 = res[i][1];\n//   Data[i] = { 'Email':obj1, 'Count':obj2};\n// }\n_this2.setState({activeregions:_this2.arraytoJson(res)});});console.log(_this2.state.activeregions);}else if(!response.ok){alert(\"No data\");}});console.log(this.state.activeregions);}},{key:\"indexN\",value:function indexN(cell,row,enumObject,index){return React.createElement(\"div\",null,index+1);}},{key:\"CellFormatter\",value:function CellFormatter(cell,row){return React.createElement(Button,{variant:\"link\",onClick:function onClick(){sessionStorage.setItem(\"Location\",cell);window.location.href=\"/locationComplaints\";}},cell);}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"wrapper\"},React.createElement(Navigation,null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"main_content\"},React.createElement(\"div\",{className:\"header\"},React.createElement(\"h2\",null,React.createElement(\"u\",null,\"Active Regions\"))),React.createElement(BootstrapTable,{data:this.state.activeregions,striped:true,hover:true,condensed:true,height:\"120\",scrollTop:'Bottom'},React.createElement(TableHeaderColumn,{width:\"150\",dataField:\"any\",dataFormat:this.indexN},\"Rank\"),React.createElement(TableHeaderColumn,{width:\"250\",dataField:\"Location\",dataFormat:this.CellFormatter,isKey:true},\"Location\"),React.createElement(TableHeaderColumn,{width:\"250\",dataField:\"Count\"},\"No. Of Complaints\")))));}}]);return activeRegions;}(Component);export default withRouter(activeRegions);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/admin/activeRegions.js"],"names":["React","Component","withRouter","Navigation","BootstrapTable","TableHeaderColumn","Button","body","activeRegions","props","state","activeregions","valuearrs","arr","i","length","Location","Count","console","log","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","arraytoJson","alert","cell","row","enumObject","index","sessionStorage","setItem","window","location","href","indexN","CellFormatter"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {  withRouter } from \"react-router-dom\";\nimport './adminhome.css';\nimport Navigation  from './nav.js';\nimport './view.css'\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport {Button} from 'react-bootstrap';\n\nvar body;\n\nclass activeRegions extends Component{\n  constructor(props) {\n    super(props);\n    this.state={\n       activeregions :[]\n    }\n    \n  }\n\n  arraytoJson(valuearrs) {\n    var arr=[]\n      for (var i = 0; i < valuearrs.length; i++) {\n          arr[i]={};\n          arr[i].Location = valuearrs[i][0];\n          //arr[i].Category = valuearrs[i][1];\n          arr[i].Count = valuearrs[i][1];\n    }\n    console.log(arr);\n      return arr;\n}\n\n  componentDidMount()\n  {\n  \n    console.log(body);\n    \n   \n        const url = \"http://localhost:9000/activeRegions\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'GET',\n            body: JSON.stringify(body)\n          })\n          .then(response => {if(response.ok){\n            // UserProfile.setEmail(this.state.email);\n            response.json()\n            .then(res=> {\n              console.log(res);\n              console.log(response);\n\n              // let Data={};\n              // for(let i=0;i<res.length;i++)\n              // {\n              //   let obj1 = res[i][0];\n              //   let obj2 = res[i][1];\n              //   Data[i] = { 'Email':obj1, 'Count':obj2};\n              // }\n              this.setState({\n                  activeregions : this.arraytoJson(res)\n              })          \n            })\n          console.log(this.state.activeregions);\n            \n          }\n          else if(!response.ok){\n            \n            alert(\"No data\")\n          }\n          })    \n          console.log(this.state.activeregions);  \n    } \n\n   \n    indexN(cell, row, enumObject, index) {\n      return (<div>{index+1}</div>) \n    }\n    CellFormatter(cell, row) {\n    return( <Button variant=\"link\" onClick={() => \n        {sessionStorage.setItem(\"Location\",cell)\n        window.location.href= \"/locationComplaints\"\n        }}>{cell}</Button>)\n      }\n   \n\n    render() {\n  \n        return (\n        <div>\n       <div className=\"wrapper\">\n            <Navigation/>\n            <br></br><br/>\n            <br/>\n           <div className=\"main_content\">\n                        <div className=\"header\"><h2><u>Active Regions</u></h2></div>\n          <BootstrapTable data={ this.state.activeregions } striped hover condensed height='120' scrollTop={ 'Bottom' } >\n          <TableHeaderColumn width='150' dataField=\"any\" dataFormat={this.indexN} >Rank</TableHeaderColumn>\n          <TableHeaderColumn  width='250' dataField='Location' dataFormat={this.CellFormatter} isKey >Location</TableHeaderColumn>\n          <TableHeaderColumn  width='250' dataField='Count'>No. Of Complaints</TableHeaderColumn>\n         \n          \n      </BootstrapTable>\n            \n          </div></div>\n          </div>\n          \n        );\n    }\n}\nexport default withRouter(activeRegions);"]},"metadata":{},"sourceType":"module"}