{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/User/Profile.js\";\nimport React, { Component } from \"react\"; //import logo from '../images/userhome.jpg';\n\nimport '../images/bgimage.css';\nimport './UserHome.css';\nimport Nav from './nav.js';\nimport img from '../images/userlogin.jpeg';\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: '100%',\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%'\n};\nconst span1 = {\n  color: \"red\"\n};\nvar body;\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nconst validMobileRegex = RegExp(/^[6-9]{1}[0-9]{9}$/);\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n      console.log(this.state.name);\n    };\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handleMobileChange = event => {\n      this.setState({\n        mobile: event.target.value\n      });\n    };\n\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleMobileChange = this.handleMobileChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this); //this.validateForm = this.validateForm.bind(this);\n    //\n\n    this.state = {\n      // n:false,\n      // e:false,\n      // m:false,\n      name: \"\",\n      email: \"\",\n      mobile: \"\",\n      confirmPassword: \"\",\n      errors: {// name: '',\n        // email: '',\n        // mobile : '',\n      }\n    };\n    this.state = {\n      userdetails: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state.Id);\n    var body = {\n      Id: sessionStorage.getItem(\"Identity\")\n    };\n    console.log(\"Body\" + body.Id);\n    const url = \"http://localhost:9000/details\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(res => {\n          console.log(\"Response:\" + res);\n          this.setState({\n            userdetails: res,\n            name: res.Name,\n            email: res.Email,\n            mobile: res.Mobile\n          });\n        });\n      }\n    });\n    console.log(body);\n  } // handleNameChange = event => {\n  //   const { name, value } = event.target;\n  //   let errors = this.state.errors;\n  //   errors.name = \n  //         value.length < 5\n  //           ? 'Full Name must be 5 characters long!'\n  //           : '';\n  //   if(errors.name ===  '')\n  //   {\n  //         this.setState({n : true});\n  //  }\n  //   this.setState({errors, [name]: value});\n  // }\n  // handleEmailChange = event => {\n  //   const { name, value } = event.target;\n  //   let errors = this.state.errors;\n  //   errors.email = \n  //         validEmailRegex.test(value)\n  //           ? ''\n  //           : 'Email is not valid!';\n  //   if(errors.email ===  '')\n  //     {\n  //        this.setState({e : true});\n  //    }\n  //   this.setState({errors, [name]: value});\n  // }\n  // handleMobileChange = event => {\n  //   const { name, value } = event.target;\n  //   let errors = this.state.errors;\n  //   errors.mobile = \n  //   (validMobileRegex.test(value))\n  //     ? ''\n  //     : 'Enter a valid phone number!';\n  //  if(errors.mobile ===  '')\n  //   {\n  //       this.setState({m : true});\n  //   }\n  //   this.setState({errors, [name]: value});\n  // }\n\n\n  handleUpdate(event) {\n    // window.location.href=\"/editprofile\"\n    sessionStorage.setItem(\"TempUserName\", this.state.userdetails.Name);\n    sessionStorage.setItem(\"TempUserEmail\", this.state.userdetails.Email);\n    sessionStorage.setItem(\"TempUserMobile\", this.state.userdetails.Mobile);\n    this.props.history.push(\"/editprofile\"); //     console.log(\"sample\"+this.state.image);\n    //     event.preventDefault();\n    //     body = {\n    //       Id : sessionStorage.getItem(\"Identity\"),\n    //       Name: this.state.name,\n    //       Email: this.state.email,\n    //       Mobile: this.state.mobile,\n    //     }\n    //     console.log(body);\n    //     if (this.state.name ===\"\"){\n    //       alert('Please select the name')\n    //     }\n    //     else if(this.state.email ===\"\"){\n    //       alert('Please select the email')\n    //     }\n    //      else if (this.state.mobile ===\"\"){\n    //       alert('Please select the mobile')\n    //     }\n    //     else{\n    //        const url = \"http://localhost:9000/editprofile\";\n    //        let headers = new Headers();\n    //        headers.append('Content-Type','application/json');\n    //        headers.append('Accept','application/json');\n    //        headers.append('Access-Control-Allow-origin',url);\n    //        headers.append('Access-Control-Allow-Credentials','true');\n    //        headers.append('GET','POST');\n    //        fetch(url, {\n    //         headers:headers,\n    //         method: 'POST',\n    //         body: JSON.stringify(body)\n    //      })\n    //       .then(response => response.json())\n    //       .then(contents => {console.log(contents);\n    //       // .then(response =>{window.location.href=\"/Login\"});             \n    //    })\n    //  .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n    //  alert(\"Details updated successfully!\");\n    // this.props.history.push(\"/profile\");\n    //     }\n  }\n\n  render() {\n    // const {errors} = this.state;\n    return React.createElement(\"div\", {\n      style: image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"ID:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"form-control\",\n      value: this.state.userdetails.Id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      className: \"form-control\",\n      onChange: this.handleNameChange,\n      value: this.state.userdetails.Name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      className: \"form-control\",\n      onChange: this.handleEmailChange,\n      value: this.state.userdetails.Email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Mobile\"), React.createElement(\"input\", {\n      type: \"phone\",\n      name: \"mobile\",\n      className: \"form-control\",\n      onChange: this.handleMobileChange,\n      value: this.state.userdetails.Mobile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Edit Profile\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage/UI/src/components/User/Profile.js"],"names":["React","Component","Nav","img","image","backgroundImage","width","height","backgroundRepeat","backgroundSize","span1","color","body","validEmailRegex","RegExp","validMobileRegex","Profile","constructor","props","handleNameChange","event","setState","name","target","value","console","log","state","handleEmailChange","email","handleMobileChange","mobile","bind","handleUpdate","confirmPassword","errors","userdetails","componentDidMount","Id","sessionStorage","getItem","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","Name","Email","Mobile","setItem","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import logo from '../images/userhome.jpg';\nimport '../images/bgimage.css';\nimport './UserHome.css'\nimport Nav from './nav.js';\nimport img from '../images/userlogin.jpeg';\nconst image = {\n  backgroundImage: 'url(' + img + ')',\n  width: '100%',\n  height: '100%',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: '100% 100%',\n}\nconst span1 = {\n  color: \"red\"\n}\nvar body;\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nconst validMobileRegex = RegExp(/^[6-9]{1}[0-9]{9}$/);\nexport default class Profile extends Component{\n  constructor(props) {\n    super(props);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleMobileChange = this.handleMobileChange.bind(this);  \n        this.handleUpdate = this.handleUpdate.bind(this);\n        //this.validateForm = this.validateForm.bind(this);\n    \n        //\n        this.state = {\n          // n:false,\n          // e:false,\n          // m:false,\n          name: \"\",\n          email:\"\",\n          mobile:\"\",\n          confirmPassword: \"\",\n          errors: {\n            // name: '',\n            // email: '',\n            // mobile : '',\n          }\n          \n        };\n        \n    this.state={\n      userdetails :[]\n    \n    }\n    \n  }\n  componentDidMount(){\n    console.log(this.state.Id);\n    var body = {\n      Id: sessionStorage.getItem(\"Identity\"),\n    \n    }\n    console.log(\"Body\"+body.Id);\n\n        const url = \"http://localhost:9000/details\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n          })\n          .then(response => {if(response.ok){\n            response.json()\n            .then(res=> {\n              console.log(\"Response:\"+res)\n              this.setState({\n                  userdetails : res,\n                  name : res.Name,\n                  email : res.Email,\n                  mobile : res.Mobile\n\n              })          \n            })\n          }\n          \n          })\n          console.log(body);\n             \n    } \n    // handleNameChange = event => {\n    //   const { name, value } = event.target;\n    //   let errors = this.state.errors;\n    //   errors.name = \n    //         value.length < 5\n    //           ? 'Full Name must be 5 characters long!'\n    //           : '';\n    //   if(errors.name ===  '')\n    //   {\n    //         this.setState({n : true});\n    //  }\n    //   this.setState({errors, [name]: value});\n    // }\n  \n    // handleEmailChange = event => {\n    //   const { name, value } = event.target;\n    //   let errors = this.state.errors;\n    //   errors.email = \n    //         validEmailRegex.test(value)\n    //           ? ''\n    //           : 'Email is not valid!';\n    //   if(errors.email ===  '')\n    //     {\n    //        this.setState({e : true});\n    //    }\n    //   this.setState({errors, [name]: value});\n    // }\n  \n    // handleMobileChange = event => {\n    //   const { name, value } = event.target;\n    //   let errors = this.state.errors;\n    //   errors.mobile = \n    //   (validMobileRegex.test(value))\n    //     ? ''\n    //     : 'Enter a valid phone number!';\n    //  if(errors.mobile ===  '')\n    //   {\n    //       this.setState({m : true});\n    //   }\n    //   this.setState({errors, [name]: value});\n    // }\n    handleNameChange = event => {\n      this.setState({\n        name : event.target.value\n      });\n      console.log(this.state.name);\n    }\n    handleEmailChange = event => {\n      this.setState({\n        email : event.target.value\n      });\n     \n    }\n    handleMobileChange = event => {\n      this.setState({\n        mobile : event.target.value\n      });\n     \n    }\n    handleUpdate(event) {\n      // window.location.href=\"/editprofile\"\n      sessionStorage.setItem(\"TempUserName\",this.state.userdetails.Name)\n      sessionStorage.setItem(\"TempUserEmail\",this.state.userdetails.Email)\n      sessionStorage.setItem(\"TempUserMobile\",this.state.userdetails.Mobile)\n      this.props.history.push(\"/editprofile\");\n  //     console.log(\"sample\"+this.state.image);\n  //     event.preventDefault();\n  //     body = {\n  //       Id : sessionStorage.getItem(\"Identity\"),\n  //       Name: this.state.name,\n  //       Email: this.state.email,\n  //       Mobile: this.state.mobile,\n        \n        \n  //     }\n  //     console.log(body);\n  //     if (this.state.name ===\"\"){\n  //       alert('Please select the name')\n  //     }\n  //     else if(this.state.email ===\"\"){\n  //       alert('Please select the email')\n  //     }\n  //      else if (this.state.mobile ===\"\"){\n  //       alert('Please select the mobile')\n  //     }\n    \n  //     else{\n  //        const url = \"http://localhost:9000/editprofile\";\n  //        let headers = new Headers();\n   \n  //        headers.append('Content-Type','application/json');\n  //        headers.append('Accept','application/json');\n   \n  //        headers.append('Access-Control-Allow-origin',url);\n  //        headers.append('Access-Control-Allow-Credentials','true');\n   \n  //        headers.append('GET','POST');\n   \n  //        fetch(url, {\n  //         headers:headers,\n  //         method: 'POST',\n  //         body: JSON.stringify(body)\n  //      })\n  //       .then(response => response.json())\n  //       .then(contents => {console.log(contents);\n  //       // .then(response =>{window.location.href=\"/Login\"});             \n  //    })\n  //  .catch(()=> console.log(\"can't access\" + url + \"response. \"))\n  //  alert(\"Details updated successfully!\");\n  // this.props.history.push(\"/profile\");\n  //     }\n  \n    \n    }\n\n    render() {\n      // const {errors} = this.state;\n        return (\n          <div style={image}>\n<div className=\"wrapper\">\n          <Nav/>\n                      \n                      <div class=\"main_content\">\n                    <center>\n                    <br/><br/><br/>\n                      <br/><br/><br/><br/>\n                      <br/><br/><br/>\n                    \n                      <div className=\"auth-wrapper\">\n                      <div className=\"auth-inner\">\n                         \n                      <form>\n                          <h3>Profile</h3>\n                          <div className=\"form-group\">\n                              <label>ID:</label>\n                              <input type=\"text\" name=\"email\"  className=\"form-control\"   value={this.state.userdetails.Id}\n                             />\n                               \n                          </div>\n                          <div className=\"form-group\">\n                              <label>Name:</label>\n                              <input type=\"text\" name=\"name\"  className=\"form-control\" onChange={this.handleNameChange} value={this.state.userdetails.Name}\n                             />\n                              {/* <span style={span1} className='error'>{errors.name}</span>  */}\n                          </div>\n                          <div className=\"form-group\">\n                              <label>Email address</label>\n                              <input type=\"email\" name=\"email\"  className=\"form-control\" onChange={this.handleEmailChange} value={this.state.userdetails.Email}\n                             />\n                               {/* <span style={span1} className='error'>{errors.email}</span>  */}\n                          </div>\n          \n                          <div className=\"form-group\">\n                              <label>Mobile</label>\n                              <input type=\"phone\" name=\"mobile\" className=\"form-control\" onChange={this.handleMobileChange} value={this.state.userdetails.Mobile}\n                             />\n                               {/* <span style={span1} className='error'>{errors.mobile}</span>  */}\n                          </div>\n          \n                          \n          \n                          <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={this.handleUpdate}>Edit Profile</button>          \n                      </form>\n                      </div>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      <br/><br/><br/><br/><br/><br/><br/><br/>\n                      </div>\n                      </center>\n                      </div>\n                     </div>\n                      </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}