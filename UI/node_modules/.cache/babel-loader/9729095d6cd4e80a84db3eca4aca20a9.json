{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/User/closedComplaints.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport './UserHome.css';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport Nav from './nav.js';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nclass closedComplaints extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complaints: []\n    };\n  }\n\n  indexN(cell, row, enumObject, index) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, index + 1);\n  }\n\n  componentDidMount() {\n    var body = {\n      id: sessionStorage.getItem(\"Identity\")\n    };\n    console.log(\"Body\" + body.id);\n    const url = \"http://localhost:9000/userClosedComplaints\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      if (response.ok) {\n        // UserProfile.setEmail(this.state.email);\n        response.json().then(res => {\n          console.log(\"Response:\" + res);\n          this.setState({\n            complaints: res\n          });\n        });\n      }\n    });\n    console.log(body);\n    console.log(\"Body\" + body.id);\n  }\n\n  expandComponent(row) {\n    //var route= \"/viewandclose/\"+row.Cid;\n    var closedimg = \"/images/\" + row.ClosedImage;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Container, {\n      border: \"5px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Cid : \", row.Cid), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Closed Time : \", row.ClosedAt)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Image : \", React.createElement(\"img\", {\n      src: closedimg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Description:\", row.ClosedDescription))));\n  }\n\n  isExpandableRow(row) {\n    return true;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Closed Complaints\"))), React.createElement(BootstrapTable, {\n      data: this.state.complaints,\n      expandComponent: this.expandComponent,\n      expandableRow: this.isExpandableRow,\n      striped: true,\n      hover: true,\n      condensed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(TableHeaderColumn, {\n      width: \"70\",\n      dataField: \"any\",\n      dataFormat: this.indexN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"S.No\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Cid\",\n      isKey: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"CID\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"CATEGORY\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"LOCATION\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"STATUS\")))));\n  }\n\n}\n\nexport default withRouter(closedComplaints);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/User/closedComplaints.js"],"names":["React","Component","withRouter","BootstrapTable","TableHeaderColumn","Nav","Container","Row","Col","closedComplaints","constructor","props","state","complaints","indexN","cell","row","enumObject","index","componentDidMount","body","id","sessionStorage","getItem","console","log","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","expandComponent","closedimg","ClosedImage","Cid","ClosedAt","ClosedDescription","isExpandableRow","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {  withRouter } from \"react-router-dom\";\nimport './UserHome.css';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport Nav  from './nav.js';\nimport {Container,Row,Col} from 'react-bootstrap';\n\nclass closedComplaints extends Component{\n  constructor(props) {\n    super(props);\n    this.state={\n      complaints :[]\n    }\n}\nindexN(cell, row, enumObject, index) {\n    return (<div>{index+1}</div>) \n}\ncomponentDidMount(){\n  var body = {\n    id: sessionStorage.getItem(\"Identity\")\n  }\n  console.log(\"Body\"+body.id);\n\n      const url = \"http://localhost:9000/userClosedComplaints\";\n        let headers = new Headers();\n    \n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n    \n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n    \n        headers.append('POST','GET');\n    \n        fetch(url, {\n          headers:headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        })\n        .then(response => {if(response.ok){\n          // UserProfile.setEmail(this.state.email);\n          response.json()\n          .then(res=> {\n            console.log(\"Response:\"+res)\n            this.setState({\n                complaints : res\n            })          \n          })\n        }\n        \n        })\n        console.log(body);\n        console.log(\"Body\"+body.id);\n           \n  } \n  expandComponent(row) {\n    //var route= \"/viewandclose/\"+row.Cid;\n    var closedimg=\"/images/\"+row.ClosedImage;\n    return (\n      <div>\n        <Container border=\"5px\">\n          <Row>\n            <Col>Cid : {row.Cid}</Col>\n            <Col>Closed Time : {row.ClosedAt}</Col>\n          </Row>\n         <Row>\n            <Col>Image : <img src={closedimg}/></Col>\n        </Row>\n        <Row>\n    <Col>Description:{row.ClosedDescription}</Col>\n    </Row>\n</Container>\n      </div>\n    );\n  }\n\n  isExpandableRow(row) {    \n      return true;      \n  }\n\n\n    render() {\n        \n      return (\n        <div>\n            <div className=\"wrapper\">\n            <Nav/>\n            <br></br><br/>\n            <br/>\n                    <div className=\"main_content\">\n                        <div className=\"header\"><h2><u>Closed Complaints</u></h2></div>\n          <BootstrapTable data={ this.state.complaints }  expandComponent={ this.expandComponent } expandableRow={ this.isExpandableRow } striped hover condensed>\n          \n          <TableHeaderColumn width='70' dataField=\"any\" dataFormat={this.indexN}>S.No</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Cid' isKey hidden>CID</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Category'>CATEGORY</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Location'>LOCATION</TableHeaderColumn>\n          <TableHeaderColumn width='150' dataField='Status'>STATUS</TableHeaderColumn>\n          \n      </BootstrapTable>\n            \n          </div></div></div>\n        );\n    }\n}\nexport default withRouter(closedComplaints);"]},"metadata":{},"sourceType":"module"}