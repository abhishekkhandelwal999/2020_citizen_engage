{"ast":null,"code":"var _jsxFileName = \"/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/Department/pendingComplaints.js\";\nimport React, { Component } from \"react\";\nimport { useHistory, withRouter, Link } from \"react-router-dom\";\nimport './depthome.css';\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { createBrowserHistory as history } from 'history';\nimport Nav from './nav.js';\nimport img from '../images/userlogin.jpeg';\nimport UserProfile from '../User/UserProfile';\nimport { createBrowserHistory } from 'history';\nvar body;\nlet token = \"\";\nvar result;\n\nclass pendingComplaints extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complaints: []\n    };\n  }\n\n  indexN(cell, row, enumObject, index) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, index + 1);\n  } // view(cell,row){\n  //   return (<div><a href={\"/viewandclose/\"+row.Cid}>View Details</a></div>)\n  // }\n  // CellFormatter(cell, row) {\n  //   return (<div><a href={\"/\"+row.Cid}>{cell}</a></div>);\n  // }\n\n\n  componentDidMount() {\n    console.log(body);\n    var body = {\n      Category: sessionStorage.getItem(\"category\")\n    };\n    const url = \"http://localhost:9000/wardpending\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      if (response.ok) {\n        // UserProfile.setEmail(this.state.email);\n        response.json().then(res => {\n          console.log(res);\n          this.setState({\n            complaints: res\n          });\n        });\n      }\n    });\n  }\n\n  expandComponent(row) {\n    var route = \"/viewandclose/\" + row.Cid;\n    var createdimg = \"/images/\" + row.CreatedImage;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Container, {\n      border: \"5px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Cid : \", row.Cid), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Created Time : \", row.CreatedAt)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Image : \", React.createElement(\"img\", {\n      src: createdimg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Description:\", row.CreatedDescription)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: event => window.location.href = \"/viewandclose/\" + row.Cid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Take Action\")))));\n  }\n\n  isExpandableRow(row) {\n    return true;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Pending Complaints\"))), React.createElement(BootstrapTable, {\n      data: this.state.complaints,\n      expandComponent: this.expandComponent,\n      expandableRow: this.isExpandableRow,\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyBoardNav: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(TableHeaderColumn, {\n      width: \"70\",\n      dataField: \"any\",\n      dataFormat: this.indexN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"S.No\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Cid\",\n      isKey: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"CID\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"EMAIL\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"CATEGORY\"), React.createElement(TableHeaderColumn, {\n      width: \"150\",\n      dataField: \"Location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"LOCATION\")))));\n  }\n\n}\n\nexport default withRouter(pendingComplaints);","map":{"version":3,"sources":["/Users/khandelwal_abhishek/gnits/2020_citizen_engage-master/UI/src/components/Department/pendingComplaints.js"],"names":["React","Component","useHistory","withRouter","Link","Dropdown","DropdownButton","BootstrapTable","TableHeaderColumn","Container","Row","Col","createBrowserHistory","history","Nav","img","UserProfile","body","token","result","pendingComplaints","constructor","props","state","complaints","indexN","cell","row","enumObject","index","componentDidMount","console","log","Category","sessionStorage","getItem","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","res","setState","expandComponent","route","Cid","createdimg","CreatedImage","CreatedAt","CreatedDescription","event","window","location","href","isExpandableRow","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { useHistory, withRouter,Link } from \"react-router-dom\";\nimport './depthome.css';\nimport {Dropdown,DropdownButton}  from 'react-bootstrap';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport {Container,Row,Col} from 'react-bootstrap';\nimport { createBrowserHistory as history} from 'history';\n\nimport Nav  from './nav.js';\nimport img from '../images/userlogin.jpeg';\nimport UserProfile from '../User/UserProfile';\nimport {createBrowserHistory} from 'history';\n\n\nvar body;\nlet token=\"\";\nvar result;\n\nclass pendingComplaints extends Component{\n  constructor(props) {\n    super(props);\n    this.state={\n      complaints :[]\n    }\n  }\n    indexN(cell, row, enumObject, index) {\n      return (<div>{index+1}</div>) \n  }\n\n  // view(cell,row){\n  //   return (<div><a href={\"/viewandclose/\"+row.Cid}>View Details</a></div>)\n  // }\n\n  // CellFormatter(cell, row) {\n  //   return (<div><a href={\"/\"+row.Cid}>{cell}</a></div>);\n  // }\n\n  componentDidMount() {\n    console.log(body);\n    var body = {\n      Category: sessionStorage.getItem(\"category\")\n    }\n   \n        const url = \"http://localhost:9000/wardpending\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n          })\n          .then(response => {if(response.ok){\n            // UserProfile.setEmail(this.state.email);\n            response.json()\n            .then(res=> {\n              console.log(res)\n              this.setState({\n                  complaints : res\n              })          \n            })\n          }\n          \n          })\n             \n    } \n    \n    expandComponent(row) {\n      var route= \"/viewandclose/\"+row.Cid;\n      var createdimg=\"/images/\"+row.CreatedImage;\n      return (\n        <div>\n          <Container border=\"5px\">\n            <Row>\n              <Col>Cid : {row.Cid}</Col>\n              <Col>Created Time : {row.CreatedAt}</Col>\n            </Row>\n           <Row>\n              <Col>Image : <img src={createdimg}/></Col>\n          </Row>\n          <Row>\n      <Col>Description:{row.CreatedDescription}</Col>\n      </Row>\n          <Row>\n            <Col><button onClick={event =>  window.location.href= \"/viewandclose/\"+row.Cid}>Take Action</button></Col>\n  </Row>\n</Container>\n        </div>\n      );\n    }\n\n    isExpandableRow(row) {    \n        return true;      \n    }\n\n\n    render() {\n        return (\n          <div>\n          <div className=\"wrapper\">\n          <Nav/>\n          <br></br><br/>\n          <br/>\n          <div className=\"main_content\">\n                <div className=\"header\"><h2><u>Pending Complaints</u></h2></div>\n        <BootstrapTable data={ this.state.complaints }  expandComponent={ this.expandComponent } expandableRow={ this.isExpandableRow } striped hover condensed keyBoardNav>\n        <TableHeaderColumn width=\"70\" dataField=\"any\" dataFormat={this.indexN} >S.No</TableHeaderColumn>\n        <TableHeaderColumn width='150' dataField='Cid' isKey ={true} hidden>CID</TableHeaderColumn>\n        <TableHeaderColumn  width='150' dataField='Email' >EMAIL</TableHeaderColumn>\n        <TableHeaderColumn width='150' dataField='Category'>CATEGORY</TableHeaderColumn>\n        <TableHeaderColumn width='150' dataField= 'Location'>LOCATION</TableHeaderColumn>\n        {/* <TableHeaderColumn width='150' dataField= 'Details' dataFormat={this.view}>Details</TableHeaderColumn> */}\n    </BootstrapTable>\n          \n        </div></div></div>\n        );\n    }\n}\nexport default withRouter(pendingComplaints);"]},"metadata":{},"sourceType":"module"}